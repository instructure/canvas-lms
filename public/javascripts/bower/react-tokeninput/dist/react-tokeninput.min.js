!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.TokenInput=t(require("react")):e.TokenInput=t(e.React)}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i=n(1);i.Option=n(2),e.exports=i},function(e,t,n){var i=n(3),s=i.createFactory(n(4)),o=i.createFactory(n(5)),a=i.createFactory("ul"),u=i.createFactory("li");e.exports=i.createClass({displayName:"exports",propTypes:{onInput:i.PropTypes.func,onSelect:i.PropTypes.func.isRequired,onRemove:i.PropTypes.func.isRequired,selected:i.PropTypes.array.isRequired,menuContent:i.PropTypes.any},getInitialState:function(){return{selectedToken:null}},handleClick:function(){this.refs["combo-li"].getDOMNode().querySelector("input").focus()},handleInput:function(e){this.props.onInput(e)},handleSelect:function(e){this.props.onSelect(e),this.setState({selectedToken:null})},handleRemove:function(e){this.props.onRemove(e),this.refs["combo-li"].getDOMNode().querySelector("input").focus()},handleRemoveLast:function(){this.props.onRemove(this.props.selected[this.props.selected.length-1])},render:function(){var e=this.props.selected.map(function(e){return o({onRemove:this.handleRemove,value:e,name:e.name,key:e.id})}.bind(this));return a({className:"ic-tokens flex",onClick:this.handleClick},e,u({className:"inline-flex",ref:"combo-li"},s({id:this.props.id,ariaLabel:this.props["combobox-aria-label"],onInput:this.handleInput,onSelect:this.handleSelect,onRemoveLast:this.handleRemoveLast,value:this.state.selectedToken},this.props.menuContent)))}})},function(e,t,n){var i=n(3),s=n(6),o=i.createFactory("div");e.exports=i.createClass({displayName:"exports",propTypes:{value:i.PropTypes.any.isRequired,label:i.PropTypes.string},getDefaultProps:function(){return{role:"option",tabIndex:"-1",className:"ic-tokeninput-option",isSelected:!1}},render:function(){var e=this.props;return e.isSelected&&(e.className=s(e.className,"ic-tokeninput-selected"),e.ariaSelected=!0),o(e)}})},function(t){t.exports=e},function(e,t,n){function i(e){return e.props.label||e.props.children}var s=n(3),o=0,a=function(){},u=n(6),c=s.createFactory(n(2)),l=s.createFactory("div"),r=s.createFactory("span"),p=s.createFactory("input");e.exports=s.createClass({displayName:"exports",propTypes:{onInput:s.PropTypes.func,onSelect:s.PropTypes.func},getDefaultProps:function(){return{autocomplete:"both",onInput:a,onSelect:a,value:null}},getInitialState:function(){return{value:this.props.value,inputValue:this.findInitialInputValue(),isOpen:!1,focusedIndex:null,matchedAutocompleteOption:null,usingKeyboard:!1,activedescendant:null,listId:"ic-tokeninput-list-"+ ++o,menu:{children:[],activedescendant:null,isEmpty:!0}}},componentWillMount:function(){this.setState({menu:this.makeMenu()})},componentWillReceiveProps:function(e){this.setState({menu:this.makeMenu(e.children)},function(){e.children.length&&(this.isOpen||document.activeElement===this.refs.input.getDOMNode())?this.showList():this.hideList()}.bind(this))},makeMenu:function(e){var t,n=!0;return e=e||this.props.children,s.Children.forEach(e,function(e,i){if(e.type===c.type){n=!1;var s=e.props;this.state.value===s.value&&(s.id=s.id||"ic-tokeninput-selected-"+ ++o,s.isSelected=!0,t=s.id),s.onBlur=this.handleOptionBlur,s.onClick=this.selectOption.bind(this,e),s.onFocus=this.handleOptionFocus,s.onKeyDown=this.handleOptionKeyDown.bind(this,e),s.onMouseEnter=this.handleOptionMouseEnter.bind(this,i)}}.bind(this)),{children:e,activedescendant:t,isEmpty:n}},getClassName:function(){var e=u(this.props.className,"ic-tokeninput");return this.state.isOpen&&(e=u(e,"ic-tokeninput-is-open")),e},clearSelectedState:function(e){this.setState({focusedIndex:null,inputValue:null,value:null,matchedAutocompleteOption:null,activedescendant:null},e)},handleInputChange:function(){var e=this.refs.input.getDOMNode().value;this.clearSelectedState(function(){this.props.onInput(e)}.bind(this))},handleInputBlur:function(){var e=null!=this.state.focusedIndex;e||(this.maybeSelectAutocompletedOption(),this.hideList())},handleOptionBlur:function(){this.blurTimer=setTimeout(this.hideList,0)},handleOptionFocus:function(){clearTimeout(this.blurTimer)},handleInputKeyUp:function(e){this.state.menu.isEmpty||8===e.keyCode||!this.props.autocomplete.match(/both|inline/)},handleButtonClick:function(){this.state.isOpen?this.hideList():this.showList(),this.focusInput()},showList:function(){this.state.menu.children.length&&this.setState({isOpen:!0})},hideList:function(){this.setState({isOpen:!1})},hideOnEscape:function(e){this.hideList(),this.focusInput(),e.preventDefault()},focusInput:function(){this.refs.input.getDOMNode().focus()},selectInput:function(){this.refs.input.getDOMNode().select()},inputKeydownMap:{8:"removeLastToken",13:"selectOnEnter",27:"hideOnEscape",38:"focusPrevious",40:"focusNext"},optionKeydownMap:{13:"selectOption",27:"hideOnEscape",38:"focusPrevious",40:"focusNext"},handleKeydown:function(e){var t=this.inputKeydownMap[e.keyCode];if(t)return this.setState({usingKeyboard:!0}),this[t].call(this,e)},handleOptionKeyDown:function(e,t){var n=this.optionKeydownMap[t.keyCode];return n?(t.preventDefault(),this.setState({usingKeyboard:!0}),void this[n].call(this,e)):void this.selectInput()},handleOptionMouseEnter:function(e){this.state.usingKeyboard?this.setState({usingKeyboard:!1}):this.focusOptionAtIndex(e)},selectOnEnter:function(e){e.preventDefault(),this.maybeSelectAutocompletedOption()},maybeSelectAutocompletedOption:function(){this.state.matchedAutocompleteOption?this.selectOption(this.state.matchedAutocompleteOption,{focus:!1}):this.selectText()},selectOption:function(e,t){t=t||{},this.setState({matchedAutocompleteOption:null},function(){this.props.onSelect(e.props.value,e),this.hideList(),this.clearSelectedState(),t.focus!==!1&&this.selectInput()}.bind(this)),this.refs.input.getDOMNode().value=""},selectText:function(){var e=this.refs.input.getDOMNode().value;e&&(this.props.onSelect(e),this.clearSelectedState(),this.refs.input.getDOMNode().value="")},focusNext:function(e){if(e.preventDefault&&e.preventDefault(),!this.state.menu.isEmpty){var t=null==this.state.focusedIndex?0:this.state.focusedIndex+1;this.focusOptionAtIndex(t)}},removeLastToken:function(){return this.props.onRemoveLast&&!this.refs.input.getDOMNode().value&&this.props.onRemoveLast(),!0},focusPrevious:function(e){if(e.preventDefault&&e.preventDefault(),!this.state.menu.isEmpty){var t=this.props.children.length-1,n=null==this.state.focusedIndex?t:this.state.focusedIndex-1;this.focusOptionAtIndex(n)}},focusSelectedOption:function(){var e;s.Children.forEach(this.props.children,function(t,n){t.props.value===this.state.value&&(e=n)}.bind(this)),this.showList(),this.setState({focusedIndex:e},this.focusOption)},findInitialInputValue:function(){var e;return s.Children.forEach(this.props.children,function(t){t.props.value===this.props.value&&(e=i(t))}.bind(this)),e},focusOptionAtIndex:function(e){if(!this.state.isOpen&&this.state.value)return this.focusSelectedOption();this.showList();var t=this.props.children.length;-1===e?e=t-1:e===t&&(e=0),this.setState({focusedIndex:e},this.focusOption)},focusOption:function(){var e=this.state.focusedIndex;this.refs.list.getDOMNode().childNodes[e].focus()},render:function(){var e=this.props["aria-label"]||"Start typing to search. Press the down arrow to navigate results. If you don't find an acceptable option, you can enter an alternative.";return l({className:this.getClassName()},this.props.value,this.state.inputValue,p({ref:"input",autoComplete:"off",spellCheck:"false","aria-label":e,"aria-expanded":this.state.isOpen+"","aria-haspopup":"true","aria-activedescendant":this.state.menu.activedescendant,"aria-autocomplete":"list","aria-owns":this.state.listId,id:this.props.id,className:"ic-tokeninput-input",onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleKeydown,onKeyUp:this.handleInputKeyUp,role:"combobox"}),r({"aria-hidden":"true",className:"ic-tokeninput-button",onClick:this.handleButtonClick},"▾"),l({id:this.state.listId,ref:"list",className:"ic-tokeninput-list",role:"listbox"},this.state.menu.children))}})},function(e,t,n){var i=n(3),s=i.DOM.span,o=i.createFactory("li");e.exports=i.createClass({displayName:"exports",handleClick:function(){this.props.onRemove(this.props.value)},handleKeyDown:function(e){var t=13;e.keyCode===t&&this.props.onRemove(this.props.value)},render:function(){return o({className:"ic-token inline-flex"},s({role:"button",onClick:this.handleClick,onKeyDown:this.handleKeyDown,"aria-label":"Remove '"+this.props.name+"'",className:"ic-token-delete-button",tabIndex:0},"✕"),s({className:"ic-token-label"},this.props.name))}})},function(e){function t(e,t){return e?e.indexOf(t)>-1?e:e+" "+t:t}e.exports=t}])});
//# sourceMappingURL=react-tokeninput.min.js.map