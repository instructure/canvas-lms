<nav>
  <h2 class='first'>Basics</h2>
  <a href="<%= url_for("file.graphql.html") %>" class="<%= 'current' if options[:object] == 'file.graphql.html' %>">GraphQL</a>
  <a href="<%= url_for("file.changelog.html") %>" class="<%= 'current' if options[:object] == 'file.changelog.html' %>">API Change Log</a>
  <a href="<%= url_for("file.object_ids.html") %>" class="<%= 'current' if options[:object] == 'file.object_ids.html' %>">SIS IDs</a>
  <a href="<%= url_for("file.pagination.html") %>" class="<%= 'current' if options[:object] == 'file.pagination.html' %>">Pagination</a>
  <a href="<%= url_for("file.throttling.html") %>" class="<%= 'current' if options[:object] == 'file.throttling.html' %>">Throttling</a>
  <a href="<%= url_for("file.compound_documents.html") %>" class="<%= 'current' if options[:object] == 'file.compound_documents.html' %>">Compound Documents</a>
  <a href="<%= url_for("file.file_uploads.html") %>" class="<%= 'current' if options[:object] == 'file.file_uploads.html' %>">File Uploads</a>
  <a href="<%= url_for("file.endpoint_attributes.html") %>" class="<%= 'current' if options[:object] == 'file.endpoint_attributes.html' %>">API Endpoint Attributes</a>
  <a href="<%= url_for("file.masquerading.html") %>" class="<%= 'current' if options[:object] == 'file.masquerading.html' %>">Masquerading</a>
  <h2>OAuth2</h2>
  <a href="<%= url_for("file.oauth.html") %>" class="<%= 'current' if options[:object] == 'file.oauth.html' %>">OAuth2 Overview</a>
  <a href="<%= url_for("file.oauth_endpoints.html") %>" class="<%= 'current' if options[:object] == 'file.oauth_endpoints.html' %>">OAuth2 Endpoints</a>
  <a href="<%= url_for("file.developer_keys.html") %>" class="<%= 'current' if options[:object] == 'file.developer_keys.html' %>">Developer Keys</a>
  <h2>Resources</h2>
  <a <%= "class='current'" if options[:all_resources] %> href="all_resources.html">All Resources Reference</a>
  <% options[:resources].each_with_index do |(resource, controllers), i| %>
    <% next if resource.include?('Plagiarism Detection')
       link = url_for("#{topicize resource}.html")
       klass = []
       klass << "current" if resource == options[:object] %>
    <a class="<%= klass.join(' ') %>" href="<%= link %>"><%= resource %></a>
  <% end %>
  <h2>Outcomes</h2>
  <a href="<%= url_for("file.outcomes_csv.html") %>" class="<%= 'current' if options[:object] == 'file.outcomes_csv.html' %>">Outcomes CSV Format</a>
  <h2>Group Categories</h2>
  <a href="<%= url_for("file.group_category_csv.html") %>" class="<%= 'current' if options[:object] == 'file.group_category_csv.html' %>">Group Categories CSV Format</a>
  <h2>SIS</h2>
  <a href="<%= url_for("file.sis_csv.html") %>" class="<%= 'current' if options[:object] == 'file.sis_csv.html' %>">SIS CSV Format</a>
  <h2>External Tools</h2>
  <td>
    <li><h4>LTI</h4>
      <a href="<%= url_for("file.tools_intro.html") %>" class="<%= 'current' if options[:object] == 'file.tools_intro.html' %>">Introduction</a>
      <a href="<%= url_for("file.lti_dev_key_config.html") %>" class="<%= 'current' if options[:object] == 'file.lti_dev_key_config.html' %>">Configuring</a>
      <a href="<%= url_for("file.tools_variable_substitutions.html") %>" class="<%= 'current' if options[:object] == 'file.tools_variable_substitutions.html' %>">Variable Substitutions</a>
      <a href="<%= url_for("file.content_item.html") %>" class="<%= 'current' if options[:object] == 'file.content_item.html' %>">Deep Linking</a>
      <a href="<%= url_for("file.assignment_tools.html") %>" class="<%= 'current' if options[:object] == 'file.assignment_tools.html' %>">Grading</a>
      <a href="<%= url_for("file.provisioning.html") %>" class="<%= 'current' if options[:object] == 'file.provisioning.html' %>">Provisioning</a>
      <a href="<%= url_for("file.lti_window_post_message.html") %>" class="<%= 'current' if options[:object] == 'file.lti_window_post_message.html' %>">window.PostMessage</a>
        <ul><h4>Placements</h4>
                <a href="<%= url_for("file.navigation_tools.html") %>" class="<%= 'current' if options[:object] == 'file.navigation_tools.html' %>">Navigation</a>
                <a href="<%= url_for("file.homework_submission_placement.html") %>" class="<%= 'current' if options[:object] == 'file.homework_submission_placement.html' %>">Homework Submission</a>
                <a href="<%= url_for("file.editor_button_placement.html") %>" class="<%= 'current' if options[:object] == 'file.editor_button_placement.html' %>">Editor Button</a>
                <a href="<%= url_for("file.migration_selection_placement.html") %>" class="<%= 'current' if options[:object] == 'file.migration_selection_placement.html' %>">Migration Selection</a>
                <a href="<%= url_for("file.link_selection_placement.html") %>" class="<%= 'current' if options[:object] == 'file.link_selection_placement.html' %>">Link Selection (Modules)</a>
                <a href="<%= url_for("file.assignment_selection_placement.html") %>" class="<%= 'current' if options[:object] == 'file.assignment_selection_placement.html' %>">Assignment Selection</a>
                <a href="<%= url_for("file.collaborations_placement.html") %>" class="<%= 'current' if options[:object] == 'file.collaborations_placement.html' %>">Collaborations</a>
        </ul >
      <a href="<%= url_for("file.xapi.html") %>" class="<%= 'current' if options[:object] == 'file.xapi.html' %>">xAPI</a>
    </li >
    <li><h4>Plagiarism Detection Platform</h4>
      <a href="<%= url_for("file.plagiarism_platform.html") %>" class="<%= 'current' if options[:object] == 'file.plagiarism_platform.html' %>">Overview</a>
      <% options[:resources].each do |(resource, controllers)| %>
        <% next if resource.exclude?('Plagiarism Detection')
           link = url_for("#{topicize resource}.html")
           klass = "current" if resource == options[:object] %>
        <a class="<%= klass %>" href="<%= link %>"><%= resource %></a>
      <% end %>
      <a href="<%= url_for("file.jwt_access_tokens.html") %>" class="<%= 'current' if options[:object] == 'file.jwt_access_tokens.html' %>">JWT Access Tokens</a>
    </li >
  </td>
  <h2>Data Services</h2>
  <td>
    <li>
      <h4>Live Events</h4>
      <ul>
        <h4>Overview</h4>
        <a href="<%= url_for("file.data_service_introduction.html") %>" class="<%= 'current' if options[:object] == 'file.data_service_introduction.html' %>">Introduction</a>
        <a href="<%= url_for("file.data_service_setup.html") %>" class="<%= 'current' if options[:object] == 'file.data_service_setup.html' %>">Setup</a>
        <a href="<%= url_for("file.data_service_canvas_event_metadata.html") %>" class="<%= 'current' if options[:object] == 'file.data_service_canvas_event_metadata.html' %>">Metadata</a>
      </ul>

      <ul>
        <h4>Event Format</h4>
        <li>
          <h4>Canvas</h4>
          <% DataServicesCanvasLoader.data.each do |content| %>
            <a href="<%= url_for("file.data_service_canvas_#{content[:event_category]}.html") %>" class="<%= 'current' if options[:object] == "file.data_service_canvas_#{content[:event_category]}.html" %>"><%= content[:page_title] %></a>
          <% end %>
        </li>
        <li>
          <h4>Caliper IMS 1.1</h4>
          <% DataServicesCaliperLoader.data.each do |content| %>
            <a href="<%= url_for("file.data_service_caliper_#{content[:event_category]}.html") %>" class="<%= 'current' if options[:object] == "file.data_service_caliper_#{content[:event_category]}.html" %>"><%= content[:page_title] %></a>
          <% end %>
        </li>
      </ul>
    </li>
  </td>
</nav>
